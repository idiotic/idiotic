version: 1
global: {}
cluster:
  listen: '0.0.0.0'
  rpc_port: 28301
  port: 28300
nodes:
  muffin:
    port: 28300
    host: localhost
modules:
  x10:
    base_url: http://vinyl.hackafe.net:5000
  espeak:
    command: espeak --stdout | paplay
blocks:
  teakettle:
    address: 'https://api.particle.io'
    path: '/v1/devices/'
    access_token: 'fe7e8d11c02660ee0cfd37e5a508e184bf95a858'
    device_id: '210035001447343338333633'
    inputs:
      temperature: 'random_temp'
      hold: 'random_hold'
    type: TeapotBlock
  random_temp:
    period: 5
    min: 50
    max: 100
    type: RandomFloatBlock
  random_hold:
    period: 5
    min: 50
    max: 100
    type: RandomFloatBlock
  record_light:
    client_secret: "e749124ad386a5a35c0ab554a4f2c045"
    username: "dylan@whichard.com"
    password: "mZc9sQXa"
    wink_name: "Corner Light"
    inputs:
      power: "random_power"
    type: WinkDimmer
  test:
    type: HTTP
    url: http://vinyl.hackafe.net:5000/{power}/a/3
    skip_repeats: True
    parameters:
      - power
    defaults:
      power: "off"
    inputs:
      power: random_state
  random_state:
    type: RandomList
    items:
      - "on"
      - "off"
  counter_lights:
    type: X10
    code: A4
    inputs:
      power: random_power
  random_power:
    type: RandomBoolBlock
    period: 10
